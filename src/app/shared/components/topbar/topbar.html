<header class="sticky top-0 z-40 w-full border-b border-gray-100 bg-white/80 backdrop-blur-md">
    <div class="flex h-16 items-center justify-between px-6">

        <div class="flex items-center gap-4 flex-1">
            <button (click)="toggleSidebar.emit()" class="lg:hidden p-2 rounded-lg text-gray-500 hover:bg-gray-100">
                <lucide-icon name="menu" class="h-6 w-6"></lucide-icon>
            </button>

            <div class="relative w-full max-w-md hidden sm:block">
                <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                    <lucide-icon name="search" class="w-4 h-4 text-gray-400"></lucide-icon>
                </div>
                <input type="text" (input)="onSearch($event)" placeholder="Buscar proyectos, tareas..."
                    class="block w-full rounded-xl border-0 bg-gray-100 py-2 pl-10 pr-3 text-sm placeholder-gray-400 focus:bg-white focus:ring-2 focus:ring-indigo-500 transition-all">
            </div>
        </div>

        <div class="flex items-center gap-3">
            <button class="relative rounded-xl p-2.5 text-gray-500 hover:bg-gray-100 transition-colors">
                <lucide-icon name="bell" class="h-6 w-6"></lucide-icon>
                <span *ngIf="notificationCount > 0"
                    class="absolute top-2 right-2 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white ring-2 ring-white">
                    {{ notificationCount > 9 ? '9+' : notificationCount }}
                </span>
            </button>

            <div (click)="profileClick.emit()"
                class="flex items-center gap-2.5 rounded-xl border border-gray-100 p-1 pl-3 transition-colors hover:bg-gray-50 cursor-pointer">
                <span class="text-sm font-semibold text-gray-700 hidden md:block">{{ userName }}</span>
                <div class="h-8 w-8 overflow-hidden rounded-lg bg-indigo-100">
                    <img *ngIf="userAvatar" [src]="userAvatar" [alt]="userName" class="h-full w-full object-cover">
                    <div *ngIf="!userAvatar"
                        class="flex h-full w-full items-center justify-center text-xs font-bold text-indigo-600">
                        {{ userName.charAt(0) }}
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>