<div *ngIf="isOpen" class="fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6" aria-labelledby="modal-title"
    role="dialog" aria-modal="true">
    <div class="fixed inset-0 bg-gray-900/40 backdrop-blur-sm transition-opacity" (click)="onClose()"></div>

    <div
        class="relative w-full max-w-lg transform overflow-hidden rounded-2xl bg-white shadow-2xl transition-all sm:my-8">
        <div class="border-b border-gray-100 px-6 py-4">
            <div class="flex items-center justify-between">
                <h3 class="text-xl font-semibold text-gray-900" id="modal-title">
                    {{ title }}
                </h3>
                <button type="button"
                    class="rounded-lg p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none"
                    (click)="onClose()">
                    <lucide-icon name="x" class="h-6 w-6"></lucide-icon>
                </button>
            </div>
        </div>

        <div class="px-6 py-4">
            <ng-content></ng-content>
        </div>

        <div
            class="flex flex-col-reverse gap-3 border-t border-gray-100 bg-gray-50/50 px-6 py-4 sm:flex-row sm:justify-end">
            <app-button variant="secondary" (click)="onCancel()" [disabled]="loading">
                {{ cancelLabel }}
            </app-button>
            <app-button variant="primary" (click)="onSave()" [loading]="loading">
                {{ saveLabel }}
            </app-button>
        </div>
    </div>
</div>